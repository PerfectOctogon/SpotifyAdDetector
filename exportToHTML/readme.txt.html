<html>
<head>
<title>readme.txt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
readme.txt</font>
</center></td></tr></table>
<pre><span class="s0">ISO SCHEMATRON 2010</span>

<span class="s0">XSLT implementation by Rick Jelliffe with assistance from members of Schematron-love-in maillist.</span>

<span class="s0">2010-04-21</span>

<span class="s0">Two distributions are available. One is for XSLT1 engines. </span>
<span class="s0">The other is for XSLT2 engines, such as SAXON 9.</span>


<span class="s0">This version of Schematron splits the process into a pipeline of several different XSLT stages.</span>

<span class="s0">1) First, preprocess your Schematron schema with iso_dsdl_include.xsl.  </span>
<span class="s0">This is a macro processor to assemble the schema from various parts. </span>
<span class="s0">If your schema is not in separate parts, you can skip this stage.</span>
<span class="s0">This stage also generates error messages for some common XPath syntax problems.</span>

<span class="s0">2) Second, preprocess the output from stage 1 with iso_abstract_expand.xsl.  </span>
<span class="s0">This is a macro processor to convert abstract patterns to real patterns. </span>
<span class="s0">If your schema does not use abstract patterns, you can skip this</span>
<span class="s0">stage.</span>

<span class="s0">3) Third, compile the Schematron schema into an XSLT script. </span>
<span class="s0">This will typically use iso_svrl_for_xslt1.xsl or iso_svrl_for_xslt2.xsl </span>
<span class="s0">(which in turn invoke iso_schematron_skeleton_for_xslt1.xsl or iso_schematron_skeleton_for_saxon.xsl)</span>
<span class="s0">However, other &quot;meta-stylesheets&quot; are also in common use; the principle of operation is the same.</span>
<span class="s0">If your schema uses Schematron phases, supply these as command line/invocation parameters</span>
<span class="s0">to this process.</span>

<span class="s0">4) Fourth, run the script generated by stage 3 against the document being validated.</span>
<span class="s0">If you are using the SVRL script, then the output of validation will be an XML document.</span>
<span class="s0">If your schema uses Schematron parameters, supply these as command line/invocation parameters</span>
<span class="s0">to this process. </span>


<span class="s0">The XSLT2 distribution also features several next generation features, </span>
<span class="s0">such as validating multiple documents. See the source code for details.</span>

<span class="s0">Schematron assertions can be written in any language, of course; the file</span>
<span class="s0">sch-messages-en.xhtml contains the diagnostics messages from the XSLT2 skeleton</span>
<span class="s0">in English, and this can be used as template to localize the skeleton's</span>
<span class="s0">error messages. Note that typically programming errors in Schematron are XPath</span>
<span class="s0">errors, which requires localized messages from the XSLT engine.</span>

<span class="s0">ANT</span>
<span class="s0">---</span>
<span class="s0">To give an example of how to process a document, here is a sample ANT task.</span>

<span class="s0">&lt;target  name=&quot;schematron-compile-test&quot; &gt;</span>

	   <span class="s0">&lt;!-- expand inclusions --&gt;</span>
	   <span class="s0">&lt;xslt basedir=&quot;test/schematron&quot;</span>
	   		<span class="s0">style=&quot;iso_dsdl_include.xsl&quot; in=&quot;test.sch&quot;  out=&quot;test1.sch&quot;&gt; </span>
	   				<span class="s0">&lt;classpath&gt;</span>
	   					<span class="s0">&lt;pathelement location=&quot;${lib.dir}/saxon9.jar&quot;/&gt;</span>
	   				<span class="s0">&lt;/classpath&gt;</span>
	   <span class="s0">&lt;/xslt&gt;</span>

	   <span class="s0">&lt;!-- expand abstract patterns --&gt;</span>
	   <span class="s0">&lt;xslt basedir=&quot;test/schematron&quot;</span>
	   		<span class="s0">style=&quot;iso_abstract_expand.xsl&quot; in=&quot;test1.sch&quot;  out=&quot;test2.sch&quot;&gt; </span>
	   				<span class="s0">&lt;classpath&gt;</span>
	   					<span class="s0">&lt;pathelement location=&quot;${lib.dir}/saxon9.jar&quot;/&gt;</span>
	   				<span class="s0">&lt;/classpath&gt;</span>
	   <span class="s0">&lt;/xslt&gt;</span>



	   <span class="s0">&lt;!-- compile it --&gt;</span>
	   <span class="s0">&lt;xslt basedir=&quot;test/schematron&quot;</span>
	   		<span class="s0">style=&quot;iso_svrl_for_xslt2.xsl&quot; in=&quot;test2.sch&quot;  out=&quot;test.xsl&quot;&gt; </span>
	   				<span class="s0">&lt;classpath&gt;</span>
	   					<span class="s0">&lt;pathelement location=&quot;${lib.dir}/saxon9.jar&quot;/&gt;</span>
	   				<span class="s0">&lt;/classpath&gt;</span>
	   <span class="s0">&lt;/xslt&gt;</span>
	   
	   <span class="s0">&lt;!-- validate --&gt;</span>
	   <span class="s0">&lt;xslt basedir=&quot;test/schematron&quot;</span>
		   		<span class="s0">style=&quot;test.xsl&quot; in=&quot;instance.xml&quot;  out=&quot;instance.svrlt&quot;&gt; </span>
		   				<span class="s0">&lt;classpath&gt;</span>
		   					<span class="s0">&lt;pathelement location=&quot;${lib.dir}/saxon9.jar&quot;/&gt;</span>
		   				<span class="s0">&lt;/classpath&gt;</span>
	<span class="s0">&lt;/xslt&gt;</span>
		<span class="s0">&lt;/target&gt;</span>
</pre>
</body>
</html>